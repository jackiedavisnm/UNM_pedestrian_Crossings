<!DOCTYPE html>
<html>

<head>
    <!-- <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" -->
    <!-- integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY=" crossorigin="" /> -->
    <!-- <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js" -->
    <!-- integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo=" crossorigin=""></script> -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.6.0/dist/leaflet.css" />
    <script src="https://unpkg.com/leaflet@1.6.0/dist/leaflet.js"></script>
    <script src="Crossing_Locations.js"></script>

    <!-- This is for the modal -->
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
    <!-- Above is imported for the about modal -->




    <title>Mapping Crosswalk Activity at UNM</title>
    <style>
        body {
            background-color: aquamarine;
            color: black;
            font-family: "Arial", Arial, Helvetica, sans-serif;
            text-align: center;
        }

        .modal {
            background-color: aquamarine;
            color: black;
            font-family: "Arial", Arial, Helvetica, sans-serif;
            text-align: left;
        }

        .img {
            width: 200px;
            /* Adjust as needed */
        }

        .map {
            height: 700px;
            width: auto;
            margin-top: 25px;
        }

        .legend {
            position: absolute;
            bottom: 0;
            right: 0;
            z-index: 1000;
            margin-bottom: 30px;
            margin-right: 10px;
            background: white;
            border-radius: 5px;
        }
    </style>
</head>

<body>
    <h1>Pedestrian Crossings at UNM</h1>
    <p>Welcome to our project on crosswalk activity at The University of New Mexico!</p>

    <!-- Placeholder for image -->
    <img src="crosswalk-sign.png" alt="Crosswalk Sign">
    <br>
    <div id="map" class="map">
    </div>


    <script>
        //below sets the basemap and initial view
        var map = L.map('map').setView([35.084196, -106.621010], 16);
        L.tileLayer('https://tile.openstreetmap.org/{z}/{x}/{y}.png', {
            maxZoom: 19,
            attribution: '&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>'
        }).addTo(map);

        //below adds a variable for the markers
        function pointToCircle(feature, latlng) {

            var fillColor_Var = "";

            if (feature.properties["Traffic Control"] === "Stop Sign") {
                fillColor_Var = "Red";
            } else if (feature.properties["Traffic Control"] === "Stoplight") {
                fillColor_Var = "green";
            } else if (feature.properties["Traffic Control"] === "Paint") {
                fillColor_Var = "#FFCC00";
            } else {
                fillColor_Var = "black";
            }

            var geojsonMarkerOptions = {
                radius: 7,
                //fillColor: "#F46B06",
                fillColor: fillColor_Var,
                color: "black",
                weight: 1,
                opacity: 1,
                fillOpacity: 1
            };
            var circleMarker = L.circleMarker(latlng, geojsonMarkerOptions);

            return circleMarker;
        }
        function addPopups(feature, layer) {
            layer.bindPopup("<b>Crossing at " + feature.properties["EW Road/Landmark"] + " and " + feature.properties["NS Road/Landmark"] +
                "<br>Traffic Control: " + feature.properties["Traffic Control"] +
                "<br>Speed Limit: " + feature.properties["Road Speed Limit"] + "<br>Number of Lanes Crossed: " + feature.properties["Number of Lanes Crossed"]
            );
        }


        L.geoJSON(Crossings, {
            onEachFeature: addPopups,
            pointToLayer: pointToCircle

        }).addTo(map);

    </script>

    <!-- The code below is the modal for the project information -->

    <div class="container" class=".modal">
        <h2>About the Project</h2>
        <!-- Trigger the modal with a button -->
        <button type="button" class="btn btn-info btn-lg" data-toggle="modal" data-target="#myModal">Learn
            More!</button>

        <!-- Modal -->
        <div class="modal fade" id="myModal" role="dialog">

            <!-- By default, modals are medium in size. -->
            <div class="modal-dialog">

                <!-- Modal content-->
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal">&times;</button>
                        <h4 class="modal-title">About the Project</h4>
                    </div>
                    <div class="modal-body">
                        <h3>About the Team</h3>
                        <p>New Mexico has the highest pedestrian mortality rate in the United States. Jackie Davis, a
                            student at the University of New Mexico has been advocating for a crosswalk on Central
                            Avenue near Buena Vista Drive. Observing hundreds of people crossing the street, Jackie
                            attended several council meetings and met with officials from the Department of Municipal
                            Development (DMD). Her persistence paved the way for a crosswalk design that has been
                            implemented and is awaiting funding. This map provides data from several crossings in
                            Albuquerque, their crossing frequencies, and methods of traffic control. The DMD is in the
                            process of determining which crossings take priority for traffic control. This site aims to
                            aid in this process while providing crossing information to the public. </p>
                        <p>Jackie Davis is a fourth-year student in the Geography and Environmental Studies department
                            at the University of New Mexico. Her concentration is in Geographic Information Systems and
                            holds a minor in English. Jackie is passionate about traffic law and is set to begin her
                            J.D. at UNM in Fall 2025. (Jackiedavis5428@gmail.com) <a
                                href="https://jackiedavisnm.github.io">Github Website</a></p>
                        <p>Bianca Camacho is a fourth year student in the Geography and Environmental Studies department
                            at the University of New Mexico. Her concentration is in Natural Resources, and she holds
                            minors in psychology and sustainability studies. Her research interests include agriculture
                            and black carbon. She will begin her Masterâ€™s degree in Geographic Information Science in
                            Fall 2025. (iconicbonk@gmail.com) </p>
                        <p>Liping Yang is an assistant professor of geographic information and computer science. Her
                            research focuses on geospatial artificial intelligence at the University of New Mexico. She
                            is the instructor for the course in which this site was created. <a
                                href="https://www.lipingyang.org">Liping Yang's Website</a> </p>

                        <H3>References</H3>
                        <p>
                            Dataset created by Jackie Davis using satellite imagery from <a
                                href="https://maps.google.com">Google Maps</a>
                            <a href="https://getbootstrap.com/docs/4.0/components/modal/">Bootstrap Modal (what you're
                                reading this on)</a>
                            <a href="https://leafletjs.com/examples/quick-start/">Leaflet Quick Start</a>
                            Map created using <a href="https://leafletjs.com">Leaflet</a>
                        </p>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                    </div>
                </div>

            </div>
        </div>

    </div>








    <!-- The code above is the modal for the project information -->


</body>

</html>